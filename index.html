<body>
	<video width=100%></video>
	<button onclick="baixar()"></button>
</body>

<script>
	/*navigator.getUserMedia = ( navigator.getUserMedia ||
                         navigator.webkitGetUserMedia ||
                         navigator.mozGetUserMedia ||
                         navigator.msGetUserMedia);*/
    (async () => {
    	let media = null;
    	const videoElement = document.querySelector('video');

    	try {
    	    media = await navigator.mediaDevices.getUserMedia({audio: false, video: true});
    	}
    	catch(e) {
    		document.querySelector('body').textContent = e
    	}

    	//console.log(window.URL.createObjectURL(media.getVideoTracks()[0]));
    	videoElement.srcObject = media;
    	videoElement.play();
    })();
	
	function baixar() {

		var link =  document.creacteElement('a');
		link.dowloand = "foto.png"
		link.href = video.ToDataURL();
		link.textContent = "Cliente para baixar Imagem"
		document.body.appendChild(link)

		
	}
</script>

<style type="text/css">
	video {
		background-color: black;
		/*width: 100%    ;
  		height: 100%   !important;*/
	}
</style>
